# План по курсовому проекту "Автоматизация тестирования"  

### *Тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка.*
***

##  1. Перечень автоматизируемых сценариев
**Позитивные сценарии покупки тура (Happy Path)**

*Основная задача* - приобретение тура по банковской карте или в кредит.

1. ***Оплата картой со статусом APPROVED***

*Шаги:* 
- Нажать кнопку "Купить"
- В поле номер карты ввести номер карты со статусом APPROVED
- В поле месяц ввести любое значение от 01 до 12
- В поле год ввести любое значение от 22 до 24
- Поле "Владелец" заполнить латиницей валидным именем и фамилией
- В поле cvc/cvv ввести любое значение из 3 чисел
- Нажать кнопку "Продолжить"

*Ожидаемое значение:*

Появилось сообщение: "Успешно! Операция одобрена банком". В базе данных в таблицах order_entity и payment_entity появилась запись об операции.

2. ***Оплата картой со статусом DECLINED***

*Шаги:* 
- Нажать кнопку "Купить"
- В поле номер карты ввести номер карты со статусом DECLINED
- В поле месяц ввести любое значение от 01 до 12
- В поле год ввести любое значение от 22 до 24
- Поле "Владелец" заполнить латиницей валидным именем и фамилией
- В поле cvc/cvv ввести любое значение из 3 чисел
- Нажать кнопку "Продолжить"

*Ожидаемое значение:*

Появилось сообщение: "Ошибка! Банк отказал в проведении операции.". В базе данных в таблице payment_entity появилась запись об операции.

3. ***Покупка в кредит картой со статусом APPROVED***

*Шаги:*
- Нажать кнопку "Купить в кредит"
- В поле номер карты ввести номер карты со статусом APPROVED
- В поле месяц ввести любое значение от 01 до 12
- В поле год ввести любое значение от 22 до 24
- Поле "Владелец" заполнить латиницей валидным именем и фамилией
- В поле cvc/cvv ввести любое значение из 3 чисел
- Нажать кнопку "Продолжить"

*Ожидаемое значение:*

Появилось сообщение: "Успешно! Операция одобрена банком". В базе данных в таблицах order_entity и credit_request_entity появилась запись об операции.

4. ***Покупка в кредит картой со статусом DECLINED***

*Шаги:* 
- Нажать кнопку "Купить в кредит"
- В поле номер карты ввести номер карты со статусом DECLINED
- В поле месяц ввести любое значение от 01, 02, 03... до 12
- В поле год ввести любое значение от 22 до 24
- Поле "Владелец" заполнить латиницей валидным именем и фамилией
- В поле cvc/cvv ввести любое значение из 3 чисел
- Нажать кнопку "Продолжить"

*Ожидаемое значение:*

Появилось сообщение: "Ошибка! Банк отказал в проведении операции.". В базе данных в таблице credit_request_entity появилась запись об операции.


**Негативные сценарии покупки тура (Sad Path)**


*Основная задача* - реакция системы в случае ввода невалидных значений и данных.

*Предусловия:*

- при проверке покупки тура по карте нажать кнопку "Купить"
- при проверке покупки тура в кредит нажать кнопку "Купить в кредит"

***Тестовые сценарии идентичны для обоих вариантов предусловия***

1. ***Покупка тура с пустыми полями***

*Шаги:*
- Оставить все поля пустыми
- Нажать кнопку "Продолжить"

*Ожидаемый результат:* 

Внизу каждого поля возникает сообщение о неверном вводе данных. Данные не отправляются.

2. ***Поле ввода "номер карты"***

*Предусловие:*

Все поля, кроме поля "номер карты", должны быть заполнены валидными значениями

*Шаги:*
- Ввести карту из 15-ти цифр 
- Ввести "0"
- Ввести только одну цифру
- Ввести буквенное значение
- Ввести номер карты, отличный от карт со статусом APPROVED и DECLINED

*Ожидаемый результат:* 

После нажатия кнопки "Продолжить" возникает сообщение о неверном вводе данных или сообщение "Ошибка! Банк отказал в проведении операции.". В случае ввода букв - поле не заполняется. Заявка не отправляется.


3. ***Поле ввода "месяц"***

*Предусловие:*

Все поля, кроме поля "месяц", должны быть заполнены валидными значениями

*Шаги:*
- Ввести "0"
- Ввести любую цифру от 1 до 9
- Ввести любую цифру от 13 до 99
- Ввести буквенное значение

*Ожидаемый результат:* 

После нажатия кнопки "Продолжить" возникает сообщение о неверном вводе данных. В случае ввода букв - поле не заполняется. Заявка не отправляется.

4. ***Поле ввода "год"***

*Предусловие:*

Все поля, кроме поля "год", должны быть заполнены валидными значениями

*Шаги:*
- Ввести "0"
- Ввести любую одну цифру
- Ввести прошедший год
- Ввести дату, превышающую срок действия карты (5 лет)
- Ввести буквенное значение

*Ожидаемый результат:* 

После нажатия кнопки "Продолжить" возникает сообщение о неверном вводе данных или сообщение: "Истёк срок действия карты". В случае ввода букв - поле не заполняется. Заявка не отправляется.


5. ***Поле ввода "CVC/CVV"***

*Предусловие:*

Все поля, кроме поля "CVC/CVV", должны быть заполнены валидными значениями

*Шаги:*
- Ввести "0"
- Ввести любое значение из одной цифры
- Ввести любое значение из двух цифр
- Ввести буквенное значение

*Ожидаемый результат:* 

После нажатия кнопки "Продолжить" возникает сообщение о неверном вводе данных. В случае ввода букв - поле не заполняется. Заявка не отправляется.

6. ***Поле ввода "владелец"***

*Предусловие:*

Все поля, кроме поля "владелец", должны быть заполнены валидными значениями

*Шаги:*
- Ввести символы "?.:%№"!"
- Ввести имя и фамилию кирилицей
- Ввести имя и фамилию через нижнее подчеркивание "_"
- Ввести цифры "12345"
- Ввести только имя на латинице
- Ввести только фамилию на латинице


*Ожидаемый результат:*

После нажатия кнопки "Продолжить" возникает сообщение о неверном вводе данных. Заявка не отправляется.


***
## 2. Перечень используемых инструментов

- *IntelliJ IDEA* - интегрированная среда разработки ПО на языке Java. 
- *Gradle* - инструмент управления зависимостями для написания автотестов.
- *JUnit* - фрейморк для тестирования. Подключает assert-ы.
- *Lombok* - библиотека. Не требуется вручную писать геттеры и сеттеры.
- *Facker* - библиотека для генерации данных.
- *Selenide* — фрейморк для тестирования веб-приложений. Более удобен в использовании чем Selenium.
- *Git* - система контроля версий. Создает локальный репозиторий.
- *GitHub* - хранилище для хранения историй версий проекта. Удаленный репозиторий.
- *MySQL* - система управления БД.
- *Docker Compose* - система контейнерезации для подключения базы данных MySQL.
- *Allure Framework* - инструмент отчета о тестировании. Легко подключать, выдает максимум полезной отчетной информации в красивой "обертке".

***
## 3. Перечень и описание возможных рисков при автоматизации

Потребуется дополнительные ресурсы:
- при подключении Docker. Могут возникнуть сложности в настройке;
- сложности в настройке работы банковских сервисов;
- при подготовке данных для автотестов - Page Object. 

***
## 4. Интервальная оценка с учётом рисков (в часах)

- Подготовка, настройка и написание тестов - до 30 часов.
- Подготовка отчета по результатам тестов - до 6 часов.
- Подготовка отчета по итогам автоматизации - до 8 часов.

***
## 5. План сдачи работ (когда будут автотесты, результаты их прогона и отчёт по автоматизации)

- Написание тестов - до 18.05.2022 г.
- Отчет по итогам автоматизированного тестирования до 21.05.2022 г.
- Отчет по итогам автоматизации - до 23.05.2022 г.
